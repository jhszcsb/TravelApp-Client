<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
    <title>Followed</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="bootstrap.css" />
</h:head>
<h:body>

    <ui:include src="navbar.xhtml">
        <ui:param name="active" value="follows" />
    </ui:include>

    <div class="container">
        <div class="row">
            <div class="col-md-2"/>
            <div class="col-md-8">
                <h:form id="follow-form">

                    <!--
                    <h:commandButton value="Load" class="btn btn-default"
                                     action="#{travelerController.loadFollowedsForTraveler()}"/>
                                     -->

                    <div class="vertical-separator"/>

                    <h:outputLabel rendered="#{empty travelerController.followerDatas}"
                                   value="You don't have any followed travelers yet."/>

                    <h2>Followed</h2>
                    <h:dataTable id="followeds-table" value="#{travelerController.followerDatas}" var="followed"
                                 class="table"
                                 rendered="#{!empty travelerController.followerDatas}">
                        <h:column>
                            <div>
                                <h:commandLink
                                        action="#{followController.loadPersonalDataForFollowed(followed.followed.personaldata.username)}"
                                        value="#{followed.followed.personaldata.username}">
                                </h:commandLink>
                            </div>
                            <h:commandLink
                                    action="#{followController.loadPersonalDataForFollowed(followed.followed.personaldata.username)}">
                                <p:graphicImage value="#{travelerController.dynamicTravelerImage}"
                                                width="100">
                                    <f:param name="picture_id" value="#{followed.followed.id}"/>
                                </p:graphicImage>
                            </h:commandLink>
                        </h:column>
                        <!--<h:column>
                            <f:facet name="header">ID</f:facet>
                            #{followed.followed.id}
                        </h:column>-->
                    </h:dataTable>

                </h:form>
            </div>
            <div class="col-md-2"/>
        </div>
    </div>

</h:body>
</html>